<!DOCTYPE html>
<html lang="id" xmlns:th="http://www.thymeleaf.org">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Tambah Film - Admin</title>
   <link th:href="@{/css/add-movie.css}" rel="stylesheet" />
</head>
<body>
   <div class="admin-container">
       <div class="sidebar">
           <div class="sidebar-header">
               <h2>Admin Dashboard</h2>
           </div>
           <ul class="sidebar-menu">
               <li onclick="redirectToAdminDashboard()">Kelola Film</li>
               <li onclick="redirectToManageCustomers()">Kelola Pelanggan</li>
               <li onclick="redirectToManageGenres()">Kelola Genre</li>
               <li onclick="redirectToManageActors()">Kelola Aktor</li>
               <li onclick="redirectToReports()">Laporan</li>
               <li onclick="redirectToMonthlyReports()">Laporan Bulanan</li>
               <li onclick="handleLogout()">Logout</li>
           </ul>
       </div>

       <div class="main-content">
           <div class="section">
               <div class="content-header">
                   <h2>Tambah Film Baru</h2>
               </div>
               <form th:action="@{/admin/movies/add}" th:object="${movie}" method="post" enctype="multipart/form-data" class="admin-form">
                   <div class="form-group">
                       <label>Judul Film</label>
                       <input type="text" th:field="*{judul}" required>
                   </div>
                   
                   <div class="form-group">
                       <label for="genre">Genre</label>
                       <select th:field="*{genre}" required>
                           <option value="">Pilih Genre</option>
                           <option th:each="genre : ${genres}" th:value="${genre.name}" th:text="${genre.name}"></option>
                       </select>
                   </div>
                   
                   <div class="form-group">
                       <label>Aktor</label>
                       <select name="actorIds" multiple required class="multi-select">
                           <option th:each="actor : ${actors}" 
                                   th:value="${actor.id}" 
                                   th:text="${actor.name}">
                           </option>
                       </select>
                       <small>Tahan CTRL untuk memilih lebih dari satu aktor</small>
                   </div>
                   
                   <div class="form-group">
                       <label>Stok</label>
                       <input type="number" th:field="*{stok}" required min="0">
                   </div>
                   
                   <div class="form-group">
                       <label>Harga Rental 7 Hari</label>
                       <input type="number" step="0.01" th:field="*{harga7Hari}" required min="0">
                   </div>
                   
                   <div class="form-group">
                       <label>Harga Rental 14 Hari</label>
                       <input type="number" step="0.01" th:field="*{harga14Hari}" required min="0">
                   </div>
                   
                   <div class="form-group">
                       <label>Harga Rental 30 Hari</label>
                       <input type="number" step="0.01" th:field="*{harga30Hari}" required min="0">
                   </div>
                   
                   <div class="form-group">
                       <label>Cover Film</label>
                       <input type="file" name="coverImage" accept="image/*" required>
                   </div>
                  
                   <div class="form-group">
                       <label>Synopsis</label>
                       <textarea th:field="*{synopsis}" rows="4" placeholder="Masukkan synopsis film..."></textarea>
                   </div>
                   
                   <button type="submit" class="submit-btn">Simpan Film</button>
               </form>
           </div>
       </div>
   </div>

   <button class="mobile-menu-trigger">
       <i class="fas fa-bars"></i>
   </button>
   <script th:src="@{/js/kelolafilm.js}"></script>
</body>
</html>